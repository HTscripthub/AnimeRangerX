
local a=game.PlaceId;local b=72829404259339;local c={Enabled=true,WarningsEnabled=true}local d=print;print=function(...)if c.Enabled then d(...)end end;local d=warn;warn=function(...)if c.WarningsEnabled then d(...)end end;if a~=b then warn("Script này chỉ hoạt động trên game Anime Rangers X (Place ID: "..tostring(b)..")")return end;local a={}a.Notify=function(a)local b=a.Title or""local c=a.Content or""local a=a.Duration or 3;print("["..b.."] "..c)return{Destroy=function()end}end;local b={}b.Keys={"HT_ANIME_RANGERS_ACCESS_5723","RANGER_PRO_ACCESS_9841","PREMIUM_ANIME_ACCESS_3619"}b.KeyFileName="htkey_anime_rangers.txt"b.WebhookURL="https://discord.com/api/webhooks/1348673902506934384/ZRMIlRzlQq9Hfnjgpu96GGF7jCG8mG1qqfya3ErW9YvbuIKOaXVomOgjg4tM_Xk57yAK"b.CheckSavedKey=function()if not isfile then return false,"Executor của bạn không hỗ trợ isfile/readfile"end;if isfile(b.KeyFileName)then local a=readfile(b.KeyFileName)for b,b in ipairs(b.Keys)do if a==b then return true,"Key hợp lệ"end end;delfile(b.KeyFileName)end;return false,"Key không hợp lệ hoặc chưa được lưu"end;b.SaveKey=function(a)if not writefile then return false,"Executor của bạn không hỗ trợ writefile"end;writefile(b.KeyFileName,a)return true,"Đã lưu key"end;b.SendWebhook=function(a,c,d)if b.WebhookURL=="https://discord.com/api/webhooks/1348673902506934384/ZRMIlRzlQq9Hfnjgpu96GGF7jCG8mG1qqfya3ErW9YvbuIKOaXVomOgjg4tM_Xk57yAK"then return end;local e=game:GetService("HttpService")local a={["content"]="",["embeds"]={{["title"]="Anime Rangers X Script - Key Log",["description"]="Người dùng đã sử dụng script",["type"]="rich",["color"]=d and 65280 or 16711680,["fields"]={{["name"]="Username",["value"]=a,["inline"]=true},{["name"]="Key Status",["value"]=d and"Hợp lệ"or"Không hợp lệ",["inline"]=true},{["name"]="Key Used",["value"]=c~=""and c or"N/A",["inline"]=true}},["timestamp"]=DateTime.now():ToIsoDate()}}}local a,b=pcall(function()e:PostAsync(b.WebhookURL,e:JSONEncode(a))end)return a end;b.CreateKeyUI=function()local a,c=b.CheckSavedKey()if a then print("HT Hub | Key hợp lệ, đang tải script...")b.SendWebhook(game.Players.LocalPlayer.Name,"Key đã lưu",true)return true end;local a=Instance.new("ScreenGui")local c=Instance.new("Frame")local d=Instance.new("UICorner")local e=Instance.new("TextLabel")local f=Instance.new("TextLabel")local g=Instance.new("TextBox")local h=Instance.new("UICorner")local i=Instance.new("TextButton")local j=Instance.new("UICorner")local k=Instance.new("TextButton")local l=Instance.new("UICorner")local m=Instance.new("TextLabel")if syn and syn.protect_gui then syn.protect_gui(a)a.Parent=game:GetService("CoreGui")elseif gethui then a.Parent=gethui()else a.Parent=game:GetService("CoreGui")end;a.Name="HTHubKeySystem"a.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;a.ResetOnSpawn=false;c.Name="Main"c.Parent=a;c.BackgroundColor3=Color3.fromRGB(30,30,30)c.Position=UDim2.new(0.5,-175,0.5,-125)c.Size=UDim2.new(0,350,0,250)d.CornerRadius=UDim.new(0,10)d.Parent=c;e.Name="Title"e.Parent=c;e.BackgroundColor3=Color3.fromRGB(255,255,255)e.BackgroundTransparency=1.000;e.Position=UDim2.new(0,0,0,10)e.Size=UDim2.new(1,0,0,30)e.Font=Enum.Font.GothamBold;e.Text="HT Hub | Anime Rangers X"e.TextColor3=Color3.fromRGB(255,255,255)e.TextSize=20.000;f.Name="Description"f.Parent=c;f.BackgroundColor3=Color3.fromRGB(255,255,255)f.BackgroundTransparency=1.000;f.Position=UDim2.new(0,0,0,45)f.Size=UDim2.new(1,0,0,40)f.Font=Enum.Font.Gotham;f.Text="Nhập key để sử dụng script"f.TextColor3=Color3.fromRGB(200,200,200)f.TextSize=14.000;g.Name="KeyInput"g.Parent=c;g.BackgroundColor3=Color3.fromRGB(50,50,50)g.Position=UDim2.new(0.5,-125,0,100)g.Size=UDim2.new(0,250,0,40)g.Font=Enum.Font.Gotham;g.PlaceholderText="Nhập key vào đây..."g.Text=""g.TextColor3=Color3.fromRGB(255,255,255)g.TextSize=14.000;h.CornerRadius=UDim.new(0,6)h.Parent=g;i.Name="SubmitButton"i.Parent=c;i.BackgroundColor3=Color3.fromRGB(90,90,255)i.Position=UDim2.new(0.5,-60,0,155)i.Size=UDim2.new(0,120,0,35)i.Font=Enum.Font.GothamBold;i.Text="Xác nhận"i.TextColor3=Color3.fromRGB(255,255,255)i.TextSize=14.000;j.CornerRadius=UDim.new(0,6)j.Parent=i;k.Name="GetKeyButton"k.Parent=c;k.BackgroundColor3=Color3.fromRGB(50,150,50)k.Position=UDim2.new(0.5,-75,0,200)k.Size=UDim2.new(0,150,0,35)k.Font=Enum.Font.GothamBold;k.Text="Lấy key tại discord"k.TextColor3=Color3.fromRGB(255,255,255)k.TextSize=14.000;l.CornerRadius=UDim.new(0,6)l.Parent=k;m.Name="StatusLabel"m.Parent=c;m.BackgroundColor3=Color3.fromRGB(255,255,255)m.BackgroundTransparency=1.000;m.Position=UDim2.new(0,0,0,240)m.Size=UDim2.new(1,0,0,20)m.Font=Enum.Font.Gotham;m.Text=""m.TextColor3=Color3.fromRGB(255,100,100)m.TextSize=12.000;local c=false;local function d(a)for b,b in ipairs(b.Keys)do if a==b then return true end end;return false end;i.MouseButton1Click:Connect(function()local e=g.Text;if e==""then m.Text="Vui lòng nhập key"m.TextColor3=Color3.fromRGB(255,100,100)return end;local d=d(e)if d then m.Text="Key hợp lệ! Đang tải script..."m.TextColor3=Color3.fromRGB(100,255,100)b.SaveKey(e)b.SendWebhook(game.Players.LocalPlayer.Name,e,true)c=true;wait(1)a:Destroy()else m.Text="Key không hợp lệ, vui lòng thử lại"m.TextColor3=Color3.fromRGB(255,100,100)b.SendWebhook(game.Players.LocalPlayer.Name,e,false)end end)k.MouseButton1Click:Connect(function()setclipboard("https://discord.gg/6WXu2zZC3d")m.Text="Đã sao chép liên kết vào clipboard"m.TextColor3=Color3.fromRGB(100,255,100)end)local b=tick()local d=300;repeat wait(0.1)until c or(tick()-b>d)if c then return true else if a and a.Parent then a:Destroy()end;return false end end;local b=b.CreateKeyUI()if not b then warn("Key không hợp lệ hoặc đã hết thời gian chờ. Script sẽ dừng.")return end;print("HT Hub | Anime Rangers X đang khởi động, vui lòng đợi 10 giây...")wait(10)print("Đang tải script...")local b,d=pcall(function()a=loadstring(game:HttpGet("https://github.com/dawid-scripts/Fluent/releases/latest/download/main.lua"))()SaveManager=loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()InterfaceManager=loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()end)if not b then warn("Lỗi khi tải thư viện Fluent: "..tostring(d))pcall(function()a=loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Fluent.lua"))()SaveManager=loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/SaveManager.lua"))()InterfaceManager=loadstring(game:HttpGet("https://raw.githubusercontent.com/dawid-scripts/Fluent/master/Addons/InterfaceManager.lua"))()end)end;if not a then error("Không thể tải thư viện Fluent. Vui lòng kiểm tra kết nối internet hoặc executor.")return end;local function b(a)local a,b=pcall(function()return game:GetService(a)end)return a and b or nil end;local function d(a,b,c)if not a then return nil end;local d=a:FindFirstChild(b)if not d and c and c>0 then local a,b=pcall(function()return a:WaitForChild(b,c)end)if a then d=b end end;return d end;local function e(a,b,c)if not a then return nil end;c=c or 0.5;local a=a;for b,b in ipairs(b)do if not a then return nil end;a=d(a,b,c)end;return a end;local f={}f.FileName="HTHubARConfig_"..game:GetService("Players").LocalPlayer.Name..".json"f.DefaultConfig={UITheme="Amethyst",LogsEnabled=true,WarningsEnabled=true,SummonAmount="x1",SummonBanner="Standard",AutoSummon=false,AutoClaimQuest=false,SelectedMap="OnePiece",SelectedChapter="Chapter1",SelectedDifficulty="Normal",FriendOnly=false,AutoJoinMap=false,StoryTimeDelay=5,SelectedRangerMap="OnePiece",SelectedRangerMaps={},SelectedActs={RangerStage1=true},RangerFriendOnly=false,AutoJoinRanger=false,RangerTimeDelay=5,AutoBossEvent=false,BossEventTimeDelay=5,AutoChallenge=false,ChallengeTimeDelay=5,AutoPlay=false,AutoRetry=false,AutoNext=false,AutoVote=false,AutoUpdate=false,AutoUpdateRandom=false,Slot1Level=0,Slot2Level=0,Slot3Level=0,Slot4Level=0,Slot5Level=0,Slot6Level=0,AutoJoinAFK=false,AutoHideUI=false,SelectedMerchantItems={},AutoMerchantBuy=false,AutoTPLobby=false,AutoTPLobbyDelay=10,AutoScanUnits=true,AntiAFK=true,AutoLeave=false,WebhookURL="",AutoSendWebhook=false,AutoMovement=false,SelectedPortals={},AutoOpenPortal=false,AutoBuyQuinque=false,AutoStartPortal=false}f.CurrentConfig={}f.LastSaveTime=0;f.SaveCooldown=2;f.PendingSave=false;f.SaveConfig=function()local a=os.time()if a-f.LastSaveTime<f.SaveCooldown then f.PendingSave=true;return end;local b,c=pcall(function()local a=game:GetService("HttpService")writefile(f.FileName,a:JSONEncode(f.CurrentConfig))end)if b then f.LastSaveTime=a;f.PendingSave=false else warn("Lưu cấu hình thất bại:",c)end end;f.LoadConfig=function()local a,b=pcall(function()if isfile(f.FileName)then return readfile(f.FileName)end;return nil end)if a and b then local a,b=pcall(function()local a=game:GetService("HttpService")return a:JSONDecode(b)end)if a and b then for a,c in pairs(f.DefaultConfig)do if b[a]==nil then b[a]=c end end;f.CurrentConfig=b;if b.LogsEnabled~=nil then c.Enabled=b.LogsEnabled end;if b.WarningsEnabled~=nil then c.WarningsEnabled=b.WarningsEnabled end;return true end end;f.CurrentConfig=table.clone(f.DefaultConfig)f.SaveConfig()return false end;spawn(function()while wait(5)do if f.PendingSave then f.SaveConfig()end end end)f.LoadConfig()local c=nil;local c=false;local c=f.CurrentConfig.SummonAmount or"x1"local g=f.CurrentConfig.SummonBanner or"Standard"local h=f.CurrentConfig.AutoSummon or false;local i=nil;local j={Rare=f.CurrentConfig.AutoSellRare or false,Epic=f.CurrentConfig.AutoSellEpic or false,Legendary=f.CurrentConfig.AutoSellLegendary or false}local k=f.CurrentConfig.AutoClaimQuest or false;local l=nil;local l={["Voocha Village"]="OnePiece",["Green Planet"]="Namek",["Demon Forest"]="DemonSlayer",["Leaf Village"]="Naruto",["Z City"]="OPM",["Ghoul City"]="TokyoGhoul"}local m={}for a,b in pairs(l)do m[b]=a end;local n=f.CurrentConfig.SelectedMap or"OnePiece"local o=m[n]or"Voocha Village"local p=f.CurrentConfig.SelectedChapter or"Chapter1"local q=f.CurrentConfig.SelectedDifficulty or"Normal"local r=f.CurrentConfig.FriendOnly or false;local s=f.CurrentConfig.AutoJoinMap or false;local t=nil;local t=f.CurrentConfig.SelectedRangerMap or"OnePiece"local u=m[t]or"Voocha Village"local v=f.CurrentConfig.SelectedRangerMaps or{[t]=true}local w=f.CurrentConfig.SelectedActs or{RangerStage1=true}local x=1;local y={}local z=f.CurrentConfig.RangerFriendOnly or false;local A=f.CurrentConfig.AutoJoinRanger or false;local B=nil;local C=f.CurrentConfig.AutoBossEvent or false;local D=nil;local D=f.CurrentConfig.AutoChallenge or false;local E=nil;local E=f.CurrentConfig.ChallengeTimeDelay or 5;local F=f.CurrentConfig.AutoPlay or false;local G=f.CurrentConfig.AutoRetry or false;local H=f.CurrentConfig.AutoNext or false;local I=f.CurrentConfig.AutoVote or false;local J=nil;local K=nil;local L=nil;local M=f.CurrentConfig.AutoUpdate or false;local N=f.CurrentConfig.AutoUpdateRandom or false;local O=nil;local P=nil;local Q={f.CurrentConfig.Slot1Level or 0,f.CurrentConfig.Slot2Level or 0,f.CurrentConfig.Slot3Level or 0,f.CurrentConfig.Slot4Level or 0,f.CurrentConfig.Slot5Level or 0,f.CurrentConfig.Slot6Level or 0}local R={}local S=f.CurrentConfig.StoryTimeDelay or 5;local T=f.CurrentConfig.RangerTimeDelay or 5;local U=f.CurrentConfig.BossEventTimeDelay or 5;local U=f.CurrentConfig.AutoJoinAFK or false;local V=nil;local W=f.CurrentConfig.AutoHideUI or false;local X=nil;local Y=game:GetService("Players").LocalPlayer.Name;local Z=a:CreateWindow({Title="HT Hub | Anime Rangers X",SubTitle="",TabWidth=140,Size=UDim2.fromOffset(450,350),Acrylic=true,Theme=f.CurrentConfig.UITheme or"Dark",MinimizeKey=Enum.KeyCode.LeftControl})local ab=Z:AddTab({Title="Info",Icon="rbxassetid://7733964719"})local bb=Z:AddTab({Title="Play",Icon="rbxassetid://7743871480"})local cb=Z:AddTab({Title="In-Game",Icon="rbxassetid://7733799901"})local db=Z:AddTab({Title="Portal",Icon="rbxassetid://7734068321"})local eb=Z:AddTab({Title="Unit",Icon="rbxassetid://7743866529"})local fb=Z:AddTab({Title="Shop",Icon="rbxassetid://7734056747"})local gb=Z:AddTab({Title="Webhook",Icon="rbxassetid://7734058803"})local hb=Z:AddTab({Title="Settings",Icon="rbxassetid://6031280882"})repeat task.wait(0.25)until game:IsLoaded()getgenv().Image="rbxassetid://90319448802378"getgenv().ToggleUI="LeftControl"task.spawn(function()local a,b=pcall(function()if not getgenv().LoadedMobileUI==true then getgenv().LoadedMobileUI=true;local a=Instance.new("ScreenGui")local b=Instance.new("ImageButton")local c=Instance.new("UICorner")if syn and syn.protect_gui then syn.protect_gui(a)a.Parent=game:GetService("CoreGui")elseif gethui then a.Parent=gethui()else a.Parent=game:GetService("CoreGui")end;a.Name="OpenUI"a.ZIndexBehavior=Enum.ZIndexBehavior.Sibling;b.Parent=a;b.BackgroundColor3=Color3.fromRGB(105,105,105)b.BackgroundTransparency=0.8;b.Position=UDim2.new(0.9,0,0.1,0)b.Size=UDim2.new(0,50,0,50)b.Image=getgenv().Image;b.Draggable=true;b.Transparency=0.2;c.CornerRadius=UDim.new(0,200)c.Parent=b;b.MouseButton1Click:Connect(function()game:GetService("VirtualInputManager"):SendKeyEvent(true,getgenv().ToggleUI,false,game)end)end end)if not a then warn("Lỗi khi tạo nút Logo UI: "..tostring(b))end end)Z:SelectTab(1)local ib=ab:AddSection("Thông tin")ib:AddParagraph({Title="Anime Rangers X",Content="Phiên bản: 0.6 Beta\nTrạng thái: Hoạt động"})ib:AddParagraph({Title="Người phát triển",Content="Script được phát triển bởi Dương Tuấn và ghjiukliop"})local ib=ib:AddParagraph({Title="Current Challenge Info",Content="Đang tải thông tin Challenge..."})local function jb()local a=game:GetService("ReplicatedStorage"):FindFirstChild("Gameplay")if not a then ib:SetDesc("Không tìm thấy thông tin Challenge")return end;a=a:FindFirstChild("Game")if not a then ib:SetDesc("Không tìm thấy thông tin Challenge")return end;a=a:FindFirstChild("Challenge")if not a then ib:SetDesc("Không tìm thấy thông tin Challenge")return end;local b=a:FindFirstChild("ChallengeName")and a.ChallengeName.Value or"N/A"local c=a:FindFirstChild("Chapter")and a.Chapter.Value or"N/A"local d=a:FindFirstChild("World")and a.World.Value or"N/A"local e=c:match("Chapter(%d+)")if e then c=e end;if m[d]then d=m[d]end;local e=""local a=a:FindFirstChild("Items")if a then for a,a in pairs(a:GetChildren())do local b=""if a:IsA("StringValue")or a:IsA("NumberValue")or a:IsA("IntValue")then b=tostring(a.Value)else b=a.Name end;e=e.."• "..a.Name;if b~=a.Name then e=e..": "..b end;e=e.."\n"end else e="Không có item nào"end;local a="ChallengeName: "..b.."\n".."Chapter: "..c.."\n".."World: "..d.."\n".."Items:\n"..e;ib:SetDesc(a)end;spawn(function()while wait(1)do pcall(jb)end end)local function ib()local a=game:GetService("Players").LocalPlayer;if not a then return false end;return a:FindFirstChild("UnitsFolder")~=nil end;local function jb()local a=e(game:GetService("ReplicatedStorage"),{"Values","Game","Gamemode"},0.1)if a and a:IsA("StringValue")then if a.Value=="Ranger Stage"then return true else return false end else return false end end;local kb=bb:AddSection("Story")local function lb(a)local a,b=pcall(function()local b=e(game:GetService("ReplicatedStorage"),{"Remote","Server","PlayRoom","Event"},2)if b then local c=l[a]or"OnePiece"local d={[1]="Change-World",[2]={["World"]=c}}b:FireServer(unpack(d))print("Đã đổi map: "..a.." (thực tế: "..c..")")else warn("Không tìm thấy Event để đổi map")end end)if not a then warn("Lỗi khi đổi map: "..tostring(b))end end;local function mb(a,b)local a,b=pcall(function()local c=e(game:GetService("ReplicatedStorage"),{"Remote","Server","PlayRoom","Event"},2)if c then local d={[1]="Change-Chapter",[2]={["Chapter"]=a.."_"..b}}c:FireServer(unpack(d))print("Đã đổi chapter: "..a.."_"..b)else warn("Không tìm thấy Event để đổi chapter")end end)if not a then warn("Lỗi khi đổi chapter: "..tostring(b))end end;local function nb(a)local a,b=pcall(function()local b=e(game:GetService("ReplicatedStorage"),{"Remote","Server","PlayRoom","Event"},2)if b then local c={[1]="Change-Difficulty",[2]={["Difficulty"]=a}}b:FireServer(unpack(c))print("Đã đổi difficulty: "..a)else warn("Không tìm thấy Event để đổi difficulty")end end)if not a then warn("Lỗi khi đổi difficulty: "..tostring(b))end end;local function ob()local a,b=pcall(function()local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","PlayRoom","Event"},2)if a then local b={[1]="Change-FriendOnly"}a:FireServer(unpack(b))print("Đã toggle Friend Only")else warn("Không tìm thấy Event để toggle Friend Only")end end)if not a then warn("Lỗi khi toggle Friend Only: "..tostring(b))end end;local function pb()if ib()then print("Đã phát hiện người chơi đang ở trong map, không thực hiện join map")return false end;local a,b=pcall(function()local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","PlayRoom","Event"},2)if not a then warn("Không tìm thấy Event để join map")return end;a:FireServer("Create")wait(0.5)if r then a:FireServer("Change-FriendOnly")wait(0.5)end;local b={[1]="Change-World",[2]={["World"]=n}}a:FireServer(unpack(b))wait(0.5)local b={[1]="Change-Chapter",[2]={["Chapter"]=n.."_"..p}}a:FireServer(unpack(b))wait(0.5)local b={[1]="Change-Difficulty",[2]={["Difficulty"]=q}}a:FireServer(unpack(b))wait(0.5)a:FireServer("Submit")wait(1)a:FireServer("Start")print("Đã join map: "..n.."_"..p.." với độ khó "..q)end)if not a then warn("Lỗi khi join map: "..tostring(b))return false end;return true end;kb:AddDropdown("MapDropdown",{Title="Map",Values={"Voocha Village","Green Planet","Demon Forest","Leaf Village","Z City","Ghoul City"},Multi=false,Default=o,Callback=function(a)o=a;n=l[a]or"OnePiece"f.CurrentConfig.SelectedMap=n;f.SaveConfig()lb(a)print("Đã chọn map: "..a.." (thực tế: "..n..")")end})kb:AddDropdown("ChapterDropdown",{Title="Chapter",Values={"Chapter1","Chapter2","Chapter3","Chapter4","Chapter5","Chapter6","Chapter7","Chapter8","Chapter9","Chapter10"},Multi=false,Default=f.CurrentConfig.SelectedChapter or"Chapter1",Callback=function(a)p=a;f.CurrentConfig.SelectedChapter=a;f.SaveConfig()mb(n,a)print("Đã chọn chapter: "..a)end})kb:AddDropdown("DifficultyDropdown",{Title="Difficulty",Values={"Normal","Hard","Nightmare"},Multi=false,Default=f.CurrentConfig.SelectedDifficulty or"Normal",Callback=function(a)q=a;f.CurrentConfig.SelectedDifficulty=a;f.SaveConfig()nb(a)print("Đã chọn difficulty: "..a)end})kb:AddToggle("FriendOnlyToggle",{Title="Friend Only",Default=f.CurrentConfig.FriendOnly or false,Callback=function(a)r=a;f.CurrentConfig.FriendOnly=a;f.SaveConfig()ob()if a then print("Đã bật chế độ Friend Only")else print("Đã tắt chế độ Friend Only")end end})kb:AddToggle("AutoJoinMapToggle",{Title="Auto Join Map",Default=f.CurrentConfig.AutoJoinMap or false,Callback=function(a)s=a;f.CurrentConfig.AutoJoinMap=a;f.SaveConfig()if s then if ib()then print("Đang ở trong map, Auto Join Map sẽ hoạt động khi bạn rời khỏi map")else print("Auto Join Map đã được bật, sẽ bắt đầu sau "..S.." giây")spawn(function()wait(S)if s and not ib()then pb()end end)end;spawn(function()while s and wait(10)do if not ib()then print("Đợi "..S.." giây trước khi join map")wait(S)if s and not ib()then pb()end else print("Đang ở trong map, đợi đến khi người chơi rời khỏi map")end end end)else print("Auto Join Map đã được tắt")end end})local n=fb:AddSection("Summon")local function o()local a,b=pcall(function()local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","Gambling","UnitsGacha"},2)if a then local b={[1]=c,[2]=g,[3]={Rare=j.Rare,Epic=j.Epic,Legendary=j.Legendary}}a:FireServer(unpack(b))local a=""if j.Rare or j.Epic or j.Legendary then a=" với Auto Sell: "local b={}if j.Rare then table.insert(b,"Rare")end;if j.Epic then table.insert(b,"Epic")end;if j.Legendary then table.insert(b,"Legendary")end;a=a..table.concat(b,", ")end;print("Đã summon: "..c.." - "..g..a)else warn("Không tìm thấy Remote UnitsGacha")end end)if not a then warn("Lỗi khi summon: "..tostring(b))end end;n:AddDropdown("SummonAmountDropdown",{Title="Summon",Values={"x1","x10"},Multi=false,Default=f.CurrentConfig.SummonAmount or"x1",Callback=function(a)c=a;f.CurrentConfig.SummonAmount=a;f.SaveConfig()print("Đã chọn summon amount: "..a)end})n:AddDropdown("SummonBannerDropdown",{Title="Banner",Values={"Standard","Rateup"},Multi=false,Default=f.CurrentConfig.SummonBanner or"Standard",Callback=function(a)g=a;f.CurrentConfig.SummonBanner=a;f.SaveConfig()print("Đã chọn banner: "..a)end})n:AddDropdown("AutoSellDropdown",{Title="Auto Sell",Values={"Rare","Epic","Legendary"},Multi=true,Default={Rare=f.CurrentConfig.AutoSellRare or false,Epic=f.CurrentConfig.AutoSellEpic or false,Legendary=f.CurrentConfig.AutoSellLegendary or false},Callback=function(a)j.Rare=a.Rare or false;j.Epic=a.Epic or false;j.Legendary=a.Legendary or false;f.CurrentConfig.AutoSellRare=j.Rare;f.CurrentConfig.AutoSellEpic=j.Epic;f.CurrentConfig.AutoSellLegendary=j.Legendary;f.SaveConfig()local a={}if j.Rare then table.insert(a,"Rare")end;if j.Epic then table.insert(a,"Epic")end;if j.Legendary then table.insert(a,"Legendary")end;if#a>0 then print("Đã bật Auto Sell cho: "..table.concat(a,", "))else print("Đã tắt Auto Sell")end end})n:AddToggle("AutoSummonToggle",{Title="Auto Summon",Default=f.CurrentConfig.AutoSummon or false,Callback=function(a)h=a;f.CurrentConfig.AutoSummon=a;f.SaveConfig()local a=true;if h then print("Auto Summon đã được bật")if i then i:Disconnect()i=nil end;local function b()local a=game:GetService("VirtualInputManager")local b=game:GetService("Players")local b=b.LocalPlayer;local b=b:WaitForChild("PlayerGui")local b=game:GetService("GuiService"):GetGuiInset()local b=workspace.CurrentCamera.ViewportSize;local c=b.X/2;local d=b.Y/2;a:SendMouseButtonEvent(c,d,0,true,game,0)wait(0.05)a:SendMouseButtonEvent(c,d,0,false,game,0)local c={{X=c,Y=d},{X=c*0.9,Y=d*1.5},{X=c*1.5,Y=d*0.9},{X=c*0.5,Y=d*0.5}}for c,c in ipairs(c)do if c.X>0 and c.X<b.X and c.Y>0 and c.Y<b.Y then a:SendMouseButtonEvent(c.X,c.Y,0,true,game,0)wait(0.05)a:SendMouseButtonEvent(c.X,c.Y,0,false,game,0)wait(0.05)end end;print("Đã thực hiện click tự động trên màn hình "..b.X.."x"..b.Y)end;spawn(function()while h do o()wait(2)local a=c=="x1"and 1 or 8;print("Đang thực hiện "..a.." lần click cho summon "..c)for a=1,a do if not h then break end;b()wait(0.5)end;if not h then break end end end)spawn(function()b()while a and wait(0.1)do b()if not h then a=false end end end)else print("Auto Summon đã được tắt")if i then i:Disconnect()i=nil end;a=false end end})local c=fb:AddSection("Quest")local function g()local a,b=pcall(function()local a=b("ReplicatedStorage")if not a then warn("Không tìm thấy ReplicatedStorage")return end;local b=d(a,"Player_Data",2)if not b then warn("Không tìm thấy Player_Data")return end;local b=d(b,Y,2)if not b then warn("Không tìm thấy dữ liệu người chơi: "..Y)return end;local b=d(b,"DailyQuest",2)if not b then warn("Không tìm thấy DailyQuest")return end;local a=e(a,{"Remote","Server","Gameplay","QuestEvent"},2)if not a then warn("Không tìm thấy QuestEvent")return end;for b,b in pairs(b:GetChildren())do if b then local b={[1]="ClaimAll",[2]=b}a:FireServer(unpack(b))wait(0.2)end end end)if not a then warn("Lỗi khi claim quest: "..tostring(b))end end;c:AddToggle("AutoClaimQuestToggle",{Title="Auto Claim All Quests",Default=f.CurrentConfig.AutoClaimQuest or false,Callback=function(a)k=a;f.CurrentConfig.AutoClaimQuest=a;f.SaveConfig()if k then print("Auto Claim Quests đã được bật")spawn(function()while k and wait(1)do g()end end)else print("Auto Claim Quests đã được tắt")end end})local b=hb:AddSection("Thiết lập")b:AddDropdown("ThemeDropdown",{Title="Chọn Theme",Values={"Dark","Light","Darker","Aqua","Amethyst"},Multi=false,Default=f.CurrentConfig.UITheme or"Dark",Callback=function(a)f.CurrentConfig.UITheme=a;f.SaveConfig()print("Đã chọn theme: "..a)end})local function b()spawn(function()while wait(5)do pcall(function()f.SaveConfig()end)end end)end;local function c()for a,a in pairs({ab,bb,fb,hb,db,eb,cb,gb})do if a and a._components then for a,a in pairs(a._components)do if a and a.OnChanged then a.OnChanged:Connect(function()pcall(function()f.SaveConfig()end)end)end end end end end;SaveManager:SetLibrary(a)InterfaceManager:SetLibrary(a)InterfaceManager:SetFolder("HTHubAR")SaveManager:SetFolder("HTHubAR/"..Y)hb:AddParagraph({Title="Cấu hình tự động",Content="Cấu hình của bạn đang được tự động lưu theo tên nhân vật: "..Y})hb:AddParagraph({Title="Phím tắt",Content="Nhấn LeftControl để ẩn/hiện giao diện"})b()c()local function b()spawn(function()while wait(3)do if autoScanUnitsEnabled and ib()then scanUnits()end;if f.PendingSave then f.SaveConfig()end end end)spawn(function()wait(5)while wait(5)do if not ib()then local a=false;if s and not a then pb()wait(1)a=ib()end;if A and not a then cycleRangerStages()wait(1)a=ib()end;if C and not a then joinBossEvent()wait(1)a=ib()end;if D and not a then joinChallenge()wait(1)a=ib()end;if U and not a and not ib()then joinAFKWorld()end else if M then for a=1,6 do if R[a]and Q[a]>0 then upgradeUnit(R[a])wait(0.1)end end elseif N and#R>0 then local a=math.random(1,#R)if R[a]then upgradeUnit(R[a])end end end end end)end;local c=bb:AddSection("Ranger Stage")local function d(a,b)local a,b=pcall(function()local c=e(game:GetService("ReplicatedStorage"),{"Remote","Server","PlayRoom","Event"},2)if c then local d={[1]="Change-Chapter",[2]={["Chapter"]=a.."_"..b}}c:FireServer(unpack(d))print("Đã đổi act: "..a.."_"..b)else warn("Không tìm thấy Event để đổi act")end end)if not a then warn("Lỗi khi đổi act: "..tostring(b))end end;local function g()local a,b=pcall(function()local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","PlayRoom","Event"},2)if a then local b={[1]="Change-FriendOnly"}a:FireServer(unpack(b))print("Đã toggle Friend Only cho Ranger")else warn("Không tìm thấy Event để toggle Friend Only")end end)if not a then warn("Lỗi khi toggle Friend Only: "..tostring(b))end end;local function h()y={}for a,b in pairs(w)do if b then table.insert(y,a)end end;if#y>0 then x=((x-1)%#y)+1 else x=1 end end;local function i(a,b)if jb()then print("Đã phát hiện người chơi đang ở trong map Ranger Stage, không thực hiện join Ranger Stage")return false end;if not a or not b then h()if#y==0 then warn("Không có Act nào được chọn để join Ranger Stage (UI)")return false end;a=t;b=y[x]end;if not a or not b then warn("Map hoặc Act không hợp lệ để join Ranger Stage")return false end;local a,b=pcall(function()local c=e(game:GetService("ReplicatedStorage"),{"Remote","Server","PlayRoom","Event"},2)if not c then warn("Không tìm thấy Event để join Ranger Stage")return end;c:FireServer("Create")wait(0.1)local d={[1]="Change-Mode",[2]={["Mode"]="Ranger Stage"}}c:FireServer(unpack(d))wait(0.1)if z then c:FireServer("Change-FriendOnly")wait(0.1)end;local d={[1]="Change-World",[2]={["World"]=a}}c:FireServer(unpack(d))wait(0.1)local d={[1]="Change-Chapter",[2]={["Chapter"]=a.."_"..b}}c:FireServer(unpack(d))wait(0.1)c:FireServer("Submit")wait(0.1)c:FireServer("Start")wait(0.1)print("Đã join Ranger Stage: "..a.."_"..b)if not a or not b then x=(x%#y)+1 end end)if not a then warn("Lỗi khi join Ranger Stage: "..tostring(b))return false end;return true end;local j=nil;j=kb:AddInput("StoryTimeDelayInput",{Title="Delay (1-30s)",Placeholder="Nhập delay",Default=tostring(S),Numeric=true,Finished=true,Callback=function(a)local a=tonumber(a)if a and a>=1 and a<=30 then S=a;f.CurrentConfig.StoryTimeDelay=a;f.SaveConfig()print("Đã đặt Story Time Delay (Input): "..a.." giây")else print("Giá trị delay không hợp lệ (1-30)")if j and j.Set then j:Set(tostring(S))end end end})c:AddDropdown("RangerMapDropdown",{Title="Map",Values={"Voocha Village","Green Planet","Demon Forest","Leaf Village","Z City","Ghoul City"},Multi=true,Default=(function()local a={}for b,c in pairs(v)do local b=m[b]if b and c then a[b]=true end end;if next(a)==nil and m[t]then a[m[t]]=true end;return a end)(),Callback=function(a)v={}local b=nil;local c=nil;for a,d in pairs(a)do local e=l[a]if e and d then v[e]=true;if not b then b=e;c=a end;print("Đã chọn Ranger map: "..a.." (thực tế: "..e..")")end end;t=b or"OnePiece"u=c or"Voocha Village"f.CurrentConfig.SelectedRangerMaps=v;f.CurrentConfig.SelectedRangerMap=t;f.SaveConfig()local a=""for b,c in pairs(v)do if c then a=a..(m[b]or b)..", "end end;if a~=""then a=a:sub(1,-3)print("Các map Ranger đã chọn: "..a)else print("Chưa chọn map Ranger nào.")end end})c:AddDropdown("ActDropdown",{Title="Act",Values={"RangerStage1","RangerStage2","RangerStage3","RangerStage4","RangerStage5"},Multi=true,Default=f.CurrentConfig.SelectedActs or{RangerStage1=true},Callback=function(a)w=a;f.CurrentConfig.SelectedActs=a;f.SaveConfig()h()local b=""for a,c in pairs(a)do if c then b=b..a..", "d(t,a)print("Đã chọn act: "..a)wait(0.1)end end;if b~=""then b=b:sub(1,-3)print("Đã chọn act: "..b)else print("Bạn chưa chọn act nào! Vui lòng chọn ít nhất một act.")end end})c:AddToggle("RangerFriendOnlyToggle",{Title="Friend Only",Default=f.CurrentConfig.RangerFriendOnly or false,Callback=function(a)z=a;f.CurrentConfig.RangerFriendOnly=a;f.SaveConfig()g()if a then print("Đã bật chế độ Friend Only cho Ranger Stage")else print("Đã tắt chế độ Friend Only cho Ranger Stage")end end})local d=nil;d=c:AddInput("RangerTimeDelayInput",{Title="Delay (1-30s)",Placeholder="Nhập delay",Default=tostring(T),Numeric=true,Finished=true,Callback=function(a)local a=tonumber(a)if a and a>=1 and a<=30 then T=a;f.CurrentConfig.RangerTimeDelay=a;f.SaveConfig()print("Đã đặt Ranger Time Delay (Input): "..a.." giây")else print("Giá trị delay không hợp lệ (1-30)")if d and d.Set then d:Set(tostring(T))end end end})local function d(a,b)local c,d=pcall(function()local c=game:GetService("Players").LocalPlayer;if not c then return false end;local c=c.Name;local d=game:GetService("ReplicatedStorage"):FindFirstChild("Player_Data")if not d then return false end;local c=d:FindFirstChild(c)if not c then return false end;local c=c:FindFirstChild("RangerStage")if not c then return false end;local a=a.."_"..b;return c:FindFirstChild(a)~=nil end)if not c then warn("Lỗi khi kiểm tra cooldown cho "..a.."_"..b..": "..tostring(d))return false end;return d end;c:AddToggle("AutoJoinRangerToggle",{Title="Auto Join Selected Stage",Default=f.CurrentConfig.AutoJoinRanger or false,Callback=function(a)A=a;f.CurrentConfig.AutoJoinRanger=a;f.SaveConfig()if A then local a=false;for b,b in pairs(v)do if b then a=true;break end end;if not a then print("Chưa chọn map nào trong Ranger Stage!")return end;local a=false;for b,b in pairs(w)do if b then a=true;break end end;if not a then print("Chưa chọn act nào trong Ranger Stage!")return end;print("Auto Join Selected Ranger Stage đã được bật")if B then B:Disconnect()B=nil end;B=spawn(function()while A do local a=false;if jb()then print("Đang ở trong map Ranger Stage, đợi thoát...")while jb()and A do wait(0.1)end;if not A then return end;wait(0.5)end;local b={}for a,c in pairs(v)do if c then for c,e in pairs(w)do if e then if not d(a,c)then table.insert(b,{map=a,act=c})else print(a.."_"..c.." đang trong cooldown, sẽ bỏ qua")end end end end end;if#b>0 then local b=b[1]print("Chuẩn bị join map không có cooldown: "..b.map.." - "..b.act)i(b.map,b.act)a=true;local a=0;while not jb()and a<10 and A do wait(0.5)a=a+0.5 end;if jb()and A then print("Đã vào map Ranger Stage, đợi "..T.." giây...")wait(T)end else print("Tất cả map đã chọn đều đang trong cooldown, đợi 5 giây và kiểm tra lại...")wait(5)end;if not a and A then wait(1)end end end)else print("Auto Join Selected Ranger Stage đã được tắt")if B then B:Disconnect()B=nil end end end})local g=f.CurrentConfig.AutoLeave or false;local j=nil;local function k()local a,b=pcall(function()local a=game:GetService("Players")local b=game:GetService("TeleportService")print("Không tìm thấy kẻ địch và agent trong 10 giây, đang teleport về lobby...")for a,a in pairs(a:GetPlayers())do b:Teleport(game.PlaceId,a)end end)if not a then warn("Lỗi khi teleport về lobby: "..tostring(b))end end;local function l()if not workspace:FindFirstChild("Agent")then return true end;local a=workspace.Agent:FindFirstChild("EnemyT")local b=workspace.Agent:FindFirstChild("Agent")if not a and not b then return true end;local a=not a or#a:GetChildren()==0;local b=not b or#b:GetChildren()==0;return a and b end;c:AddToggle("AutoLeaveToggle",{Title="Auto Leave",Default=f.CurrentConfig.AutoLeave or false,Callback=function(a)g=a;f.CurrentConfig.AutoLeave=a;f.SaveConfig()if a then print("Auto Leave đã được bật. Sẽ tự động rời map nếu không có kẻ địch và agent trong 10 giây (chỉ khi đang ở trong map)")if j then j:Disconnect()j=nil end;j=spawn(function()local a=1;local b=10;local c=0;while g do if ib()then local d=l()if d then c=c+a;if c>=b then k()break end;print("EnemyT và Agent folder trống: "..c.."/"..b.." giây")else if c>0 then c=0;print("Folders không còn trống, reset bộ đếm")end end else if c>0 then c=0 end end;wait(a)if not g then break end end end)else print("Auto Leave đã được tắt")if j then j:Disconnect()j=nil end end end})local g=bb:AddSection("Challenge")local function j()if ib()then print("Đã phát hiện người chơi đang ở trong map, không thực hiện join Challenge")return false end;local a,b=pcall(function()local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","PlayRoom","Event"},2)if not a then warn("Không tìm thấy Event để join Challenge")return end;local b={[1]="Create",[2]={["CreateChallengeRoom"]=true}}a:FireServer(unpack(b))print("Đã tạo Challenge Room")wait(1)local b={[1]="Start"}a:FireServer(unpack(b))print("Đã bắt đầu Challenge")end)if not a then warn("Lỗi khi join Challenge: "..tostring(b))return false end;return true end;local k=nil;k=g:AddInput("ChallengeTimeDelayInput",{Title="Delay (1-30s)",Placeholder="Nhập delay",Default=tostring(E),Numeric=true,Finished=true,Callback=function(a)local a=tonumber(a)if a and a>=1 and a<=30 then E=a;f.CurrentConfig.ChallengeTimeDelay=a;f.SaveConfig()print("Đã đặt Challenge Time Delay (Input): "..a.." giây")else print("Giá trị delay không hợp lệ (1-30)")if k and k.Set then k:Set(tostring(E))end end end})g:AddToggle("AutoChallengeToggle",{Title="Auto Challenge",Default=f.CurrentConfig.AutoChallenge or false,Callback=function(a)D=a;f.CurrentConfig.AutoChallenge=a;f.SaveConfig()if a then if ib()then print("Đang ở trong map, Auto Challenge sẽ hoạt động khi bạn rời khỏi map")else print("Auto Challenge đã được bật, sẽ bắt đầu sau "..E.." giây")spawn(function()wait(E)if D and not ib()then j()end end)end;spawn(function()while D and wait(10)do if not ib()then print("Đợi "..E.." giây trước khi join Challenge")wait(E)if D and not ib()then j()end else print("Đang ở trong map, đợi đến khi người chơi rời khỏi map")end end end)else print("Auto Challenge đã được tắt")end end})local g=cb:AddSection("Game Controls")local j=f.CurrentConfig.AutoTPLobby or false;local k=f.CurrentConfig.AutoTPLobbyDelay or 10;local l=nil;local function m()local a,b=pcall(function()local a=game:GetService("Players")local b=game:GetService("TeleportService")print("Đang teleport về lobby...")for a,a in pairs(a:GetPlayers())do if a==game:GetService("Players").LocalPlayer then b:Teleport(game.PlaceId,a)break end end end)if not a then warn("Lỗi khi teleport về lobby: "..tostring(b))end end;local n=nil;n=g:AddInput("AutoTPLobbyDelayInput",{Title="Delay (1-60m) ",Placeholder="Nhập phút",Default=tostring(k),Numeric=true,Finished=true,Callback=function(a)local a=tonumber(a)if a and a>=1 and a<=60 then k=a;f.CurrentConfig.AutoTPLobbyDelay=a;f.SaveConfig()print("Đã đặt Auto TP Lobby Delay (Input): "..a.." phút")else print("Giá trị delay không hợp lệ (1-60 phút)")if n and n.Set then n:Set(tostring(k))end end end})g:AddToggle("AutoTPLobbyToggle",{Title="Auto TP Lobby",Default=j,Callback=function(a)j=a;f.CurrentConfig.AutoTPLobby=a;f.SaveConfig()if a then print("Auto TP Lobby đã được bật, sẽ teleport sau "..k.." phút")if l then l:Disconnect()l=nil end;spawn(function()local a=k*60;while j and wait(1)do a=a-1;if a==60 then print("Sẽ teleport về lobby trong 1 phút nữa")end;if a<=0 then if j then m()end;a=k*60 end end end)else print("Auto TP Lobby đã được tắt")if l then l:Disconnect()l=nil end end end})g:AddButton({Title="TP Lobby Now",Callback=function()m()end})local function j()local a,b=pcall(function()local a=game:GetService("Players").LocalPlayer;if not a then return false end;local b=game:GetService("ReplicatedStorage"):FindFirstChild("Player_Data")if not b then return false end;local a=b:FindFirstChild(a.Name)if not a then return false end;local a=a:FindFirstChild("Data")if not a then return false end;local a=a:FindFirstChild("AutoPlay")if not a then return false end;return a.Value end)if not a then warn("Lỗi khi kiểm tra trạng thái AutoPlay: "..tostring(b))return false end;return b end;local function k()local a,b=pcall(function()local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","Units","AutoPlay"},2)if a then a:FireServer()print("Đã toggle Auto Play")else warn("Không tìm thấy Remote AutoPlay")end end)if not a then warn("Lỗi khi toggle Auto Play: "..tostring(b))end end;g:AddToggle("AutoPlayToggle",{Title="Auto Play",Default=f.CurrentConfig.AutoPlay or false,Callback=function(a)F=a;f.CurrentConfig.AutoPlay=a;f.SaveConfig()local b=j()if a~=b then if a then k()print("Auto Play đã được bật")else k()print("Auto Play đã được tắt")end else print("Trạng thái Auto Play đã phù hợp ("..(a and"bật"or"tắt")..")")end end})local function k()local a,b=pcall(function()local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","OnGame","Voting","VoteRetry"},2)if a then a:FireServer()print("Đã toggle Auto Retry")else warn("Không tìm thấy Remote VoteRetry")end end)if not a then warn("Lỗi khi toggle Auto Retry: "..tostring(b))end end;local function l()local a,b=pcall(function()local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","OnGame","Voting","VoteNext"},2)if a then a:FireServer()print("Đã toggle Auto Next")else warn("Không tìm thấy Remote VoteNext")end end)if not a then warn("Lỗi khi toggle Auto Next: "..tostring(b))end end;local function m()local a,b=pcall(function()local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","OnGame","Voting","VotePlaying"},2)if a then a:FireServer()print("Đã toggle Auto Vote")else warn("Không tìm thấy Remote VotePlaying")end end)if not a then warn("Lỗi khi toggle Auto Vote: "..tostring(b))end end;g:AddToggle("AutoRetryToggle",{Title="Auto Retry",Default=f.CurrentConfig.AutoRetry or false,Callback=function(a)G=a;f.CurrentConfig.AutoRetry=a;f.SaveConfig()if a then print("Auto Retry đã được bật (bao gồm tự động click sau GameEndedAnimationUI)")if J then J:Disconnect()J=nil end else print("Auto Retry đã được tắt")if J then J:Disconnect()J=nil end end end})g:AddToggle("AutoNextToggle",{Title="Auto Next",Default=f.CurrentConfig.AutoNext or false,Callback=function(a)H=a;f.CurrentConfig.AutoNext=a;f.SaveConfig()if a then print("Auto Next đã được bật (bao gồm tự động click sau GameEndedAnimationUI)")if K then K:Disconnect()K=nil end else print("Auto Next đã được tắt")if K then K:Disconnect()K=nil end end end})g:AddToggle("AutoVoteToggle",{Title="Auto Vote",Default=f.CurrentConfig.AutoVote or false,Callback=function(a)I=a;f.CurrentConfig.AutoVote=a;f.SaveConfig()if a then print("Auto Vote đã được bật, sẽ bắt đầu ngay lập tức")if L then L:Disconnect()L=nil end;m()spawn(function()while I and wait(0.5)do m()end end)else print("Auto Vote đã được tắt")if L then L:Disconnect()L=nil end end end})local function m()local a=game:GetService("Players")local a=a.LocalPlayer;if not a then print("❌ Không tìm thấy LocalPlayer")return false end;local a=a:FindFirstChild("UnitsFolder")if not a then print("❌ Không tìm thấy UnitsFolder")return false end;print("🔍 Bắt đầu scan UnitsFolder...")local b={[1]=1,[2]=6,[3]=5,[4]=4,[5]=3,[6]=2}local c={[3]={[1]=1,[2]=3,[3]=2},[4]={[1]=1,[2]=4,[3]=3,[4]=2},[5]={[1]=1,[2]=5,[3]=4,[4]=3,[5]=2}}R={}local a=a:GetChildren()local d=#a;for a,b in ipairs(a)do if a<=6 then local b=b:FindFirstChild("Name")and b.Name.Value or b.Name;print("➡️ Unit tìm thấy #"..a..": "..b)end end;local e={}for a,b in ipairs(a)do if a<=d then e[a]=b end end;if d==6 then for a,b in pairs(b)do if e[b]then R[a]=e[b]local c=e[b]:FindFirstChild("Name")and e[b].Name.Value or e[b].Name;print("🔄 Mapped (6/6): Game Slot "..b.." → UI Slot "..a.." ("..c..")")end end elseif c[d]then for a,b in pairs(c[d])do if e[b]then R[a]=e[b]local c=e[b]:FindFirstChild("Name")and e[b].Name.Value or e[b].Name;print("🔄 Mapped ("..d.."/6): Game Slot "..b.." → UI Slot "..a.." ("..c..")")end end else for a,b in ipairs(e)do R[a]=b;local b=b:FindFirstChild("Name")and b.Name.Value or b.Name;print("🔄 Mapped (Mặc định): Game Slot "..a.." → UI Slot "..a.." ("..b..")")end end;print("✅ Đã tìm thấy "..d.." unit trong UnitsFolder, "..#R.." unit được map")return#R>0 end;local function n(a)if not a then return false end;local b=e(game:GetService("ReplicatedStorage"),{"Remote","Server","Units","Upgrade"},0.5)if not b then return false end;b:FireServer(a)return true end;local o=cb:AddSection("Units Update")for a=1,6 do o:AddDropdown("Slot"..a.."LevelDropdown",{Title="Slot "..a.." Level",Values={"0","1","2","3","4","5","6","7","8","9","10"},Multi=false,Default=tostring(Q[a]),Callback=function(b)local b=tonumber(b)if not b then b=0 end;Q[a]=b;f.CurrentConfig["Slot"..a.."Level"]=b;f.SaveConfig()print("Đã đặt cấp độ slot "..a.." thành: "..b)end})end;o:AddToggle("AutoUpdateToggle",{Title="Auto Update",Default=f.CurrentConfig.AutoUpdate or false,Callback=function(a)M=a;f.CurrentConfig.AutoUpdate=a;f.SaveConfig()if a then m()print("Auto Update đã được bật")if O then O:Disconnect()O=nil end;spawn(function()while M and wait(0.5)do if ib()then for a=1,6 do if R[a]and Q[a]>0 then local b=R[a]local c=b:FindFirstChild("Upgrade_Folder")if c then local c=c:FindFirstChild("Level")if c and c:IsA("NumberValue")then local c=c.Value;local d=Q[a]if c<d then print("⬆️ Slot "..a..": Nâng cấp từ Lv "..c.." lên Lv "..d)n(b)wait(0.3)end end end end end else m()wait(1)end end end)else print("Auto Update đã được tắt")if O then O:Disconnect()O=nil end end end})o:AddToggle("AutoUpdateRandomToggle",{Title="Auto Update Random",Default=f.CurrentConfig.AutoUpdateRandom or false,Callback=function(a)N=a;f.CurrentConfig.AutoUpdateRandom=a;f.SaveConfig()if a then m()print("Auto Update Random đã được bật")if P then P:Disconnect()P=nil end;spawn(function()while N and wait(0.1)do if ib()and#R>0 then local a=math.random(1,#R)if R[a]then n(R[a])end else m()end end end)else print("Auto Update Random đã được tắt")if P then P:Disconnect()P=nil end end end})local function n()local a,b=pcall(function()local a=game:GetService("ReplicatedStorage"):WaitForChild("Values",1):WaitForChild("AFKWorld",1)if a then return a.Value end;return false end)if not a then warn("Lỗi khi kiểm tra trạng thái AFKWorld: "..tostring(b))return false end;return b end;local function o()if n()then return true end;local a=e(game:GetService("ReplicatedStorage"),{"Remote","Server","Lobby","AFKWorldTeleport"},0.5)if not a then warn("Không tìm thấy Remote AFKWorldTeleport")return false end;a:FireServer()return true end;local p=hb:AddSection("AFK Settings")local q=f.CurrentConfig.AntiAFK or true;local r=nil;local function s()local a=game:GetService("VirtualUser")local b=game:GetService("Players")local b=b.LocalPlayer;if r then r:Disconnect()r=nil end;if q and b then r=b.Idled:Connect(function()a:Button2Down(Vector2.new(0,0),workspace.CurrentCamera.CFrame)task.wait(0.5)a:Button2Up(Vector2.new(0,0),workspace.CurrentCamera.CFrame)end)end end;p:AddToggle("AntiAFKToggle",{Title="Anti AFK",Default=q,Callback=function(b)q=b;f.CurrentConfig.AntiAFK=b;f.SaveConfig()if b then a:Notify({Title="Anti AFK",Content="Anti AFK đã được bật",Duration=2})s()else a:Notify({Title="Anti AFK",Content="Anti AFK đã được tắt",Duration=2})if r then r:Disconnect()r=nil end end end})p:AddToggle("AutoJoinAFKToggle",{Title="Auto Join AFK",Default=f.CurrentConfig.AutoJoinAFK or false,Callback=function(a)U=a;f.CurrentConfig.AutoJoinAFK=a;f.SaveConfig()if a then local a=n()print("Auto Join AFK đã được bật")if not a then o()else print("Bạn đã ở trong AFKWorld")end;if V then V:Disconnect()V=nil end;spawn(function()while U and wait(60)do if not n()then o()end end end)else print("Auto Join AFK đã được tắt")if V then V:Disconnect()V=nil end end end})p:AddButton({Title="Join AFK Now",Callback=function()local a=n()if a then print("Bạn đã ở trong AFKWorld")return end;o()print("Đang teleport đến AFKWorld...")end})spawn(function()wait(3)h()local a=n()if U and not a then o()end end)local h=hb:AddSection("UI Settings")h:AddToggle("AutoHideUIToggle",{Title="Auto Hide UI",Default=f.CurrentConfig.AutoHideUI or false,Callback=function(a)W=a;f.CurrentConfig.AutoHideUI=a;f.SaveConfig()if a then print("Auto Hide UI đã được bật, UI sẽ tự động ẩn sau 1 giây")if X then X:Disconnect()X=nil end;X=spawn(function()wait(1)if W and Z and Z.Visible then Z:Minimize()end end)else print("Auto Hide UI đã được tắt")if X then X:Disconnect()X=nil end end end})spawn(function()print("AutoHideUI startup: Waiting for Window and game load...")while not Z or not game:IsLoaded()do wait(0.1)end;print("AutoHideUI startup: Window and game loaded.")wait(1.5)print("AutoHideUI startup: Checking config...")if f.CurrentConfig.AutoHideUI then print("AutoHideUI startup: Config enabled. Attempting to minimize Window...")if Z and type(Z.Minimize)=='function'then local a,b=pcall(function()Z:Minimize()end)if a then print("AutoHideUI startup: Window:Minimize() called successfully.")else print("AutoHideUI startup: Error calling Window:Minimize():",b)end else print("AutoHideUI startup: Error - Window object or Window.Minimize method not available or not a function.")end else print("AutoHideUI startup: Config disabled.")end end)local h=fb:AddSection("Merchant")local n=f.CurrentConfig.SelectedMerchantItems or{}local o=f.CurrentConfig.AutoMerchantBuy or false;local p=nil;local r={"Green Bean","Onigiri","Dr. Megga Punk","Cursed Finger","Stats Key","French Fries","Trait Reroll","Ranger Crystal","Rubber Fruit"}local function t(a)local a,b=pcall(function()local b=e(game:GetService("ReplicatedStorage"),{"Remote","Server","Gameplay","Merchant"},2)if b then local c={[1]=a,[2]=1}b:FireServer(unpack(c))print("Đã mua item: "..a)print("Đã mua item: "..a)else warn("Không tìm thấy Remote Merchant")end end)if not a then warn("Lỗi khi mua item từ Merchant: "..tostring(b))end end;h:AddDropdown("MerchantItemsDropdown",{Title="Select Items",Values=r,Multi=true,Default=n,Callback=function(a)n=a;f.CurrentConfig.SelectedMerchantItems=a;f.SaveConfig()local b=""if type(a)=="table"then for a,c in pairs(a)do if c then b=b..a..", "end end end;if b~=""then b=b:sub(1,-3)print("Đã chọn items: "..b)else print("Không có item nào được chọn")end end})h:AddToggle("AutoMerchantBuyToggle",{Title="Auto Buy",Default=f.CurrentConfig.AutoMerchantBuy or false,Callback=function(a)o=a;f.CurrentConfig.AutoMerchantBuy=a;f.SaveConfig()if a then local a=0;for b,b in pairs(n)do if b then a=a+1 end end;if a==0 then print("Auto Buy đã bật nhưng không có item nào được chọn")else print("Auto Buy đã được bật, sẽ tự động mua items mỗi 2 giây")end;if p then p:Disconnect()p=nil end;spawn(function()while o and wait(2)do for a,b in pairs(n)do if b then t(a)wait(0.5)end end end end)else print("Auto Buy đã được tắt")if p then p:Disconnect()p=nil end end end})local e=f.CurrentConfig.AutoScanUnits or true;local h=nil;spawn(function()wait(5)m()if e then spawn(function()while e and wait(3)do if ib()then local a=m()if a then print("Auto Scan: Phát hiện "..#R.." unit")end end end end)end end)spawn(function()wait(3)local a=j()if F~=a then F=a;f.CurrentConfig.AutoPlay=a;f.SaveConfig()local b=g:GetComponent("AutoPlayToggle")if b and b.Set then b:Set(a)end;print("Đã cập nhật trạng thái Auto Play từ game: "..(a and"bật"or"tắt"))end end)spawn(function()wait(3)if q then s()print("Đã tự động thiết lập Anti AFK khi khởi động script")end end)spawn(function()wait(3)if removeAnimationEnabled and ib()then removeAnimations()spawn(function()while removeAnimationEnabled and wait(3)do if ib()then removeAnimations()end end end)end end)b()if ib()then print("Bạn đang ở trong map, Auto Join sẽ chỉ hoạt động khi bạn rời khỏi map")end;a:Notify({Title="HT Hub | Anime Rangers X",Content="Script đã tải thành công! Đã tối ưu hóa cho trải nghiệm mượt mà.",Duration=3})local a=f.CurrentConfig.WebhookURL or""local b=f.CurrentConfig.AutoSendWebhook or false;local e={}local function g()local a=game:GetService("Players").LocalPlayer;local a=a:FindFirstChild("RewardsShow")local b={}if a then for a,a in ipairs(a:GetChildren())do local c=a:FindFirstChild("Amount")table.insert(b,{Name=a.Name,Amount=(c and c.Value)or 0})end end;return b end;local function h()local a=game:GetService("Players").LocalPlayer;local a=a.Name;local b=game:GetService("ReplicatedStorage"):FindFirstChild("Player_Data")if not b then return{}end;local a=b:FindFirstChild(a)if not a then return{}end;local a=a:FindFirstChild("Data")if not a then return{}end;local b={}local c={"Gold","Gem","EXP","Rubber Fruit"}for c,c in ipairs(c)do local a=a:FindFirstChild(c)if a then b[c]=a.Value end end;for a,a in pairs(a:GetChildren())do if a:IsA("IntValue")or a:IsA("NumberValue")then b[a.Name]=a.Value end end;return b end;local function j()wait(1)local a=game:GetService("Players").LocalPlayer;local a=a:WaitForChild("PlayerGui",1):FindFirstChild("RewardsUI")local b={}if a then local a=a:FindFirstChild("Main")and a.Main:FindFirstChild("LeftSide")if a then local c={"GameStatus","Mode","World","Chapter","Difficulty","TotalTime"}for c,c in ipairs(c)do local a=a:FindFirstChild(c)if a and a:IsA("TextLabel")then table.insert(b,"- "..c..": "..a.Text)end end end end;return table.concat(b,"\n")end;local function m(a,b)local c={}local d=""for a,a in ipairs(a)do d=d.."- "..a.Name..": +"..a.Amount.."\n"end;if d~=""then table.insert(c,{name="📦 Phần thưởng vừa nhận",value=d,inline=false})end;local a=h()local d=""local e=game:GetService("Players").LocalPlayer.Name;d="- Name: ".."||"..e.."||\n"local e={"Level","Gem","Gold"}for b,b in ipairs(e)do local a=a[b]or 0;d=d.."- "..b..": "..a.."\n"end;table.insert(c,{name="👤 Account",value=d,inline=false})if b~=""then table.insert(c,{name="📝 Thông tin trận đấu",value=b,inline=false})end;local a={title="Anime Rangers X - HT Hub",description="Thông tin về trận đấu vừa kết thúc",color=5793266,fields=c,thumbnail={url="https://media.discordapp.net/attachments/1321403790343274597/1364864770699821056/HT_HUB.png?ex=680b38df&is=6809e75f&hm=8a8272215b54db14974319f1745680390342942777e2fc291e38a4be4edf6fda&=&format=webp&quality=lossless&width=930&height=930"},footer={text="HT Hub | Anime Rangers X • "..os.date("%x %X"),icon_url="https://media.discordapp.net/attachments/1321403790343274597/1364864770699821056/HT_HUB.png?ex=680b38df&is=6809e75f&hm=8a8272215b54db14974319f1745680390342942777e2fc291e38a4be4edf6fda&=&format=webp&quality=lossless&width=930&height=930"},timestamp=os.date("!%Y-%m-%dT%H:%M:%SZ")}return a end;local function h(b)if a==""then warn("URL webhook trống, không thể gửi thông tin")return false end;local c=os.time().."_"..math.random(1000,9999)if e[c]then return false end;local d=j()wait(1)if not b or#b==0 then b={{Name="",Amount=""}}end;local b=m(b,d)local b=game:GetService("HttpService"):JSONEncode({embeds={b}})local d=http_request or request or(syn and syn.request)or(fluxus and fluxus.request)or HttpPost;if not d then warn("Không tìm thấy hàm gửi HTTP request tương thích.")return false end;local a,b=pcall(function()return d({Url=a,Method="POST",Headers={["Content-Type"]="application/json"},Body=b})end)if a then print("Đã gửi thông tin game qua webhook!")e[c]=true;return true else warn("Gửi webhook thất bại:",b)return false end end;local function e()local a=false;local c=false;spawn(function()while wait(0.5)do if not b then wait(1)a=false;c=false else if ib()then local b=workspace:FindFirstChild("Visual")if b then local b=b:FindFirstChild("Base_Explosion2")if b and not a then a=true;print("Phát hiện Base_Explosion2, đang gửi webhook...")wait(1)local b=game:GetService("Players").LocalPlayer;local b=g()h(b)wait(10)a=false end end;local a=game:GetService("Players").LocalPlayer;if a and a:FindFirstChild("PlayerGui")then local a=a.PlayerGui:FindFirstChild("RewardsUI")if a and not c then local b=false;for a,a in pairs(a:GetDescendants())do if a:IsA("TextLabel")and(a.Text:find("Thất bại")or a.Text:find("Fail")or a.Text=="Lose")then b=true;break end;if a.Name=="GameStatus"and a:IsA("TextLabel")and(a.Text:find("Defeat")or a.Text:find("Game Over"))then b=true;break end end;if b and not c then c=true;print("Phát hiện UI thất bại, đang gửi webhook...")wait(1)local a={{Name="Kết quả",Amount="Thất bại"}}h(a)wait(10)c=false end end end else a=false;c=false end end end end)spawn(function()while wait(2)do if b and ib()then local b=workspace:FindFirstChild("Visual")if b then local c;c=b.ChildAdded:Connect(function(b)if b.Name=="Base_Explosion2"and not a then a=true;print("Phát hiện Base_Explosion2 mới, đang gửi webhook...")wait(1)local b=game:GetService("Players").LocalPlayer;local b=g()h(b)wait(10)a=false;c:Disconnect()end end)wait(5)if c then c:Disconnect()end end end end end)spawn(function()while wait(2)do if b and ib()then local a=game:GetService("Players").LocalPlayer;if a and a:FindFirstChild("PlayerGui")then local b;b=a.PlayerGui.ChildAdded:Connect(function(a)if a.Name=="RewardsUI"and not c then wait(1.5)c=true;print("Phát hiện RewardsUI, đang kiểm tra kết quả trận đấu...")local d=false;for a,a in pairs(a:GetDescendants())do if a:IsA("TextLabel")and(a.Text:find("Thất bại")or a.Text:find("Fail")or a.Text=="Lose"or a.Text:find("Defeat")or a.Text:find("Game Over"))then d=true;break end end;local a=g()if#a==0 or d then local a={{Name="Kết quả",Amount="Thất bại"}}print("Trận đấu kết thúc: Thất bại")h(a)else print("Trận đấu kết thúc: Thắng lợi")h(a)end;wait(10)c=false;b:Disconnect()end end)wait(5)if b then b:Disconnect()end end end end end)end;local g=gb:AddSection("Discord Webhook")g:AddInput("WebhookURLInput",{Title="Webhook URL",Default=a,Placeholder="Nhập URL webhook Discord của bạn",Numeric=false,Finished=true,Callback=function(b)a=b;f.CurrentConfig.WebhookURL=b;f.SaveConfig()print("Đã cập nhật URL webhook")end})g:AddToggle("AutoSendWebhookToggle",{Title="Auto Send Webhook",Default=b,Callback=function(c)if c then if a==""then print("URL webhook trống! Vui lòng nhập URL webhook trước khi bật tính năng này.")g:GetComponent("AutoSendWebhookToggle"):Set(false)return end;b=true;f.CurrentConfig.AutoSendWebhook=true;f.SaveConfig()print("Auto Send Webhook đã được bật. Thông tin trận đấu sẽ tự động gửi khi game kết thúc.")else b=false;f.CurrentConfig.AutoSendWebhook=false;f.SaveConfig()print("Auto Send Webhook đã được tắt")end end})g:AddButton({Title="Test Webhook",Callback=function()if a==""then print("URL webhook trống! Vui lòng nhập URL webhook trước khi test.")return end;local a={{Name="Gem",Amount=100},{Name="Gold",Amount=1000},{Name="EXP",Amount=500}}local a=h(a)if a then print("Đã gửi webhook test thành công!")else print("Gửi webhook test thất bại! Kiểm tra lại URL và quyền truy cập.")end end})e()local a=f.CurrentConfig.AutoJoinAllRanger or false;local b=nil;c:AddToggle("AutoJoinAllRangerToggle",{Title="Auto Join All",Default=a,Callback=function(c)a=c;f.CurrentConfig.AutoJoinAllRanger=c;f.SaveConfig()if c then print("Auto Join All Ranger đã được bật")if b then b:Disconnect()b=nil end;spawn(function()local b={"OnePiece","Namek","DemonSlayer","Naruto","OPM"}local c={"RangerStage1","RangerStage2","RangerStage3"}while a do if jb()then print("Auto Join All: Đang ở trong map Ranger Stage, đợi thoát...")while jb()and a do wait(0.1)end;if not a then return end;wait(0.5)end;local e={}for a,a in ipairs(b)do for b,b in ipairs(c)do if not d(a,b)then table.insert(e,{map=a,act=b})else print("Auto Join All: "..a.."_"..b.." đang trong cooldown, sẽ bỏ qua")end end end;if#e>0 then local b=e[1]print("Auto Join All: Chuẩn bị join map không có cooldown: "..b.map.." - "..b.act)i(b.map,b.act)local b=0;while not jb()and b<10 and a do wait(0.5)b=b+0.5 end;if jb()and a then print("Auto Join All: Đã vào map Ranger Stage, đợi "..T.." giây...")wait(T)end else print("Auto Join All: Tất cả map đều đang trong cooldown, đợi 5 giây và kiểm tra lại...")wait(5)end;if a then wait(1)end end end)else print("Auto Join All Ranger đã được tắt")if b then b:Disconnect()b=nil end end end})local a=hb:AddSection("FPS Boost")local b=f.CurrentConfig.BoostFPS or false;local c=false;local d=false;a:AddToggle("BoostFPSToggle",{Title="Boost FPS",Default=b,Callback=function(a)b=a;f.CurrentConfig.BoostFPS=a;f.SaveConfig()if a then if ib()then if not d then local a,b=pcall(function()c=true;_G.Settings={Players={["Ignore Me"]=true,["Ignore Others"]=true},Meshes={Destroy=false,LowDetail=true},Images={Invisible=true,LowDetail=false,Destroy=false},["No Particles"]=true,["No Camera Effects"]=true,["No Explosions"]=true,["No Clothes"]=true,["Low Water Graphics"]=true,["No Shadows"]=true,["Low Rendering"]=true,["Low Quality Parts"]=true}loadstring(game:HttpGet("https://raw.githubusercontent.com/Kiet010402/FPS-BOOST/refs/heads/main/FPSBOOTS.lua"))()d=true;print("FPS Boost đã được kích hoạt thành công!")end)if not a then warn("Lỗi khi Boost FPS: "..tostring(b))c=false;d=false end else print("FPS Boost đã được kích hoạt trước đó, không cần kích hoạt lại")end;print("Boost FPS đã được bật - Đã tối ưu hóa FPS")else print("Boost FPS đã được bật - Sẽ tối ưu hóa FPS khi vào map")if not game:GetService("Players").LocalPlayer.CharacterAdded:IsA("RBXScriptConnection")then game:GetService("Players").LocalPlayer.CharacterAdded:Connect(function()wait(2)if b and ib()and not d then _G.Settings={Players={["Ignore Me"]=true,["Ignore Others"]=true},Meshes={Destroy=false,LowDetail=true},Images={Invisible=true,LowDetail=false,Destroy=false},["No Particles"]=true,["No Camera Effects"]=true,["No Explosions"]=true,["No Clothes"]=true,["Low Water Graphics"]=true,["No Shadows"]=true,["Low Rendering"]=true,["Low Quality Parts"]=true}pcall(function()loadstring(game:HttpGet("https://raw.githubusercontent.com/Kiet010402/FPS-BOOST/refs/heads/main/FPSBOOTS.lua"))()d=true;print("FPS Boost đã được kích hoạt thành công khi vào map!")end)end end)end end else print("Boost FPS đã được tắt (Lưu ý: Thay đổi đã áp dụng vẫn sẽ có hiệu lực, cần reload game để khôi phục)")end end})local a=f.CurrentConfig.AutoMovement or false;local b=nil;f.DefaultConfig.AutoMovement=false;local c=hb:AddSection("Auto Movement")local function d()local b=game:GetService("Players").LocalPlayer;local b=b.Character;if not b then return end;local c=b:FindFirstChildOfClass("Humanoid")local d=b:FindFirstChild("HumanoidRootPart")if not c or not d then return end;local e=math.random(10,15)c.WalkSpeed=e;local e=math.random(3,5)local f={Vector3.new(1,0,0),Vector3.new(-1,0,0),Vector3.new(0,0,1),Vector3.new(0,0,-1),Vector3.new(1,0,1),Vector3.new(-1,0,1),Vector3.new(1,0,-1),Vector3.new(-1,0,-1)}local f=f[math.random(1,#f)]local e=d.Position+(f*e)local f=game:GetService("PathfindingService")local f=f:CreatePath({AgentRadius=2,AgentHeight=5,AgentCanJump=true})local f=math.random(3,6)local g=tick()spawn(function()while tick()-g<f and a do if not b or not b:FindFirstChild("HumanoidRootPart")or not b:FindFirstChildOfClass("Humanoid")then break end;local a=(e-d.Position).Unit;c:MoveTo(e)if math.random(1,20)==1 then c.Jump=true end;wait(0.1)end end)end;c:AddToggle("AutoMovementToggle",{Title="Auto Movement",Default=a,Callback=function(c)a=c;f.CurrentConfig.AutoMovement=c;f.SaveConfig()if c then print("Auto Movement đã được bật")if b then b:Disconnect()b=nil end;spawn(function()while a and wait(math.random(4,8))do if game:GetService("Players").LocalPlayer.Character then pcall(function()d()end)end end end)else print("Auto Movement đã được tắt")if b then b:Disconnect()b=nil end;pcall(function()local a=game:GetService("Players").LocalPlayer.Character and game:GetService("Players").LocalPlayer.Character:FindFirstChildOfClass("Humanoid")if a then a:Move(Vector3.new(0,0,0))end end)end end})local a=eb:AddSection("Stats Potential")local b={}local c=nil;local d=nil;local e={}local g={}local h={}local i={}local j={}local m=f.CurrentConfig.AutoRollStats or false;local n=nil;local function o()local a,b=pcall(function()local a=game:GetService("Players").LocalPlayer;local a=a.Name;local b=game:GetService("ReplicatedStorage"):WaitForChild("Player_Data")local a=b:FindFirstChild(a)and b[a]:FindFirstChild("Collection")if not a then return{}end;local b={}for a,a in pairs(a:GetChildren())do if a:IsA("Folder")and a:FindFirstChild("Tag")and a:FindFirstChild("Level")then local c=a.Name;local d=a.Level.Value;local e=a.Tag.Value;local f=c.."_"..d;if not b[f]then b[f]={}end;table.insert(b[f],{name=c,level=d,tag=e,ref=a})end end;local a={}for b,b in pairs(b)do if#b==1 then local b=b[1]table.insert(a,{name=b.name,displayName=b.name.." (Lv: "..b.level..")",tag=b.tag,ref=b.ref})else for b,c in ipairs(b)do table.insert(a,{name=c.name,displayName=c.name.." (Lv: "..c.level.." #"..b..")",tag=c.tag,ref=c.ref})end end end;table.sort(a,function(a,b)return a.name<b.name end)return a end)if a then return b else warn("Lỗi khi quét units: "..tostring(b))return{}end end;local function p()local a={}for b,b in ipairs(b)do table.insert(a,b.displayName)end;return a end;local function q(a)for b,b in ipairs(b)do if b.displayName==a then return b end end;return nil end;local function r(a,b)if not b or next(b)==nil then return true end;return b[a]==true end;local function s()if not c or not d then print("Không có unit nào được chọn để roll stats.")return end;local a=c.ref;if not a then print("Không tìm thấy thông tin unit.")return end;local b={{name="Damage",potential="DamagePotential",selected=e},{name="Health",potential="HealthPotential",selected=g},{name="Speed",potential="SpeedPotential",selected=h},{name="Range",potential="RangePotential",selected=i},{name="AttackCooldown",potential="AttackCooldownPotential",selected=j}}local e=0;for b,b in ipairs(b)do if next(b.selected)~=nil then local a=a:FindFirstChild(b.potential)and a[b.potential].Value or""if not r(a,b.selected)then local f=b.name;if f=="AttackCooldown"then f="AttackCooldown"end;local d={f,d,"Selective"}local f=game:GetService("ReplicatedStorage"):WaitForChild("Remote"):WaitForChild("Server"):WaitForChild("Gambling"):WaitForChild("RerollPotential")f:FireServer(unpack(d))print("Đã roll "..b.name.." cho "..c.name.." - Giá trị hiện tại: "..a)e=e+1;wait(1)else print(b.name.." đã đạt giá trị mong muốn: "..a)end end end;if e==0 then print("Không có stat nào cần roll cho "..c.name)else print("Đã roll "..e.." stats cho "..c.name)end end;b=o()local q=a:AddDropdown("UnitDropdown",{Title="Choose Unit",Values=p(),Multi=false,Default="",Callback=function(a)local a=q(a)if a then c=a;d=a.tag;print("Đã chọn unit: "..a.name.." (Tag: "..a.tag..")")local a=a.ref;if a then local b=a:FindFirstChild("DamagePotential")and a.DamagePotential.Value or"N/A"local c=a:FindFirstChild("HealthPotential")and a.HealthPotential.Value or"N/A"local d=a:FindFirstChild("SpeedPotential")and a.SpeedPotential.Value or"N/A"local e=a:FindFirstChild("RangePotential")and a.RangePotential.Value or"N/A"local a=a:FindFirstChild("AttackCooldownPotential")and a.AttackCooldownPotential.Value or"N/A"print("Stats Potential hiện tại:")print("- Damage: "..b)print("- Health: "..c)print("- Speed: "..d)print("- Range: "..e)print("- Cooldown: "..a)end else c=nil;d=nil;print("Không tìm thấy thông tin unit")end end})a:AddButton({Title="Refresh Units List",Callback=function()print("Đang cập nhật danh sách units...")b=o()if#b>0 then if q and q.SetValues then q:SetValues(p())print("Đã cập nhật danh sách với "..#b.." units")end else print("Không tìm thấy unit nào trong Collection")end end})local b={"S","S-","S+","SS","SSS","O","O-","O+"}a:AddDropdown("DamageDropdown",{Title="Damage",Values=b,Multi=true,Default={},Callback=function(a)e=a;f.CurrentConfig.SelectedDamageValues=a;f.SaveConfig()local b=""for a,c in pairs(a)do if c then b=b..a..", "end end;if b~=""then b=b:sub(1,-3)print("Mục tiêu Damage: "..b)else print("Không có mục tiêu Damage nào được chọn")end end})a:AddDropdown("HealthDropdown",{Title="Health",Values=b,Multi=true,Default={},Callback=function(a)g=a;f.CurrentConfig.SelectedHealthValues=a;f.SaveConfig()local b=""for a,c in pairs(a)do if c then b=b..a..", "end end;if b~=""then b=b:sub(1,-3)print("Mục tiêu Health: "..b)else print("Không có mục tiêu Health nào được chọn")end end})a:AddDropdown("SpeedDropdown",{Title="Speed",Values=b,Multi=true,Default={},Callback=function(a)h=a;f.CurrentConfig.SelectedSpeedValues=a;f.SaveConfig()local b=""for a,c in pairs(a)do if c then b=b..a..", "end end;if b~=""then b=b:sub(1,-3)print("Mục tiêu Speed: "..b)else print("Không có mục tiêu Speed nào được chọn")end end})a:AddDropdown("RangeDropdown",{Title="Range",Values=b,Multi=true,Default={},Callback=function(a)i=a;f.CurrentConfig.SelectedRangeValues=a;f.SaveConfig()local b=""for a,c in pairs(a)do if c then b=b..a..", "end end;if b~=""then b=b:sub(1,-3)print("Mục tiêu Range: "..b)else print("Không có mục tiêu Range nào được chọn")end end})a:AddDropdown("CooldownDropdown",{Title="Cooldown",Values=b,Multi=true,Default={},Callback=function(a)j=a;f.CurrentConfig.SelectedCooldownValues=a;f.SaveConfig()local b=""for a,c in pairs(a)do if c then b=b..a..", "end end;if b~=""then b=b:sub(1,-3)print("Mục tiêu Cooldown: "..b)else print("Không có mục tiêu Cooldown nào được chọn")end end})a:AddToggle("RollStatsPotentialToggle",{Title="Roll Stats Potential",Default=m,Callback=function(b)m=b;f.CurrentConfig.AutoRollStats=b;f.SaveConfig()if b then if not c then print("Vui lòng chọn unit trước khi bật Roll Stats Potential")a:GetComponent("RollStatsPotentialToggle"):Set(false)return end;print("Roll Stats Potential đã được bật cho unit: "..c.name)s()if n then n:Disconnect()n=nil end;spawn(function()while m and wait(0.5)do if c then local a=o()local b=nil;for a,a in ipairs(a)do if a.tag==d then b=a;break end end;if b then c=b;local a=c.ref;if a then local b=a:FindFirstChild("DamagePotential")and a.DamagePotential.Value or"N/A"local d=a:FindFirstChild("HealthPotential")and a.HealthPotential.Value or"N/A"local e=a:FindFirstChild("SpeedPotential")and a.SpeedPotential.Value or"N/A"local f=a:FindFirstChild("RangePotential")and a.RangePotential.Value or"N/A"local a=a:FindFirstChild("AttackCooldownPotential")and a.AttackCooldownPotential.Value or"N/A"print("Stats Potential hiện tại của "..c.name..":")print("- Damage: "..b)print("- Health: "..d)print("- Speed: "..e)print("- Range: "..f)print("- Cooldown: "..a)end end;s()else print("Không có unit nào được chọn để roll stats")m=false;a:GetComponent("RollStatsPotentialToggle"):Set(false)break end end end)else print("Roll Stats Potential đã được tắt")if n then n:Disconnect()n=nil end end end})local function a()spawn(function()pcall(function()local a=game:GetService("Players").LocalPlayer;if not a then return end;while not a:FindFirstChild("PlayerGui")do wait(0.1)end;local b=a.PlayerGui;local c=false;local function d()local a=game:GetService("VirtualInputManager")local b=game:GetService("Players")local b=b.LocalPlayer;local b=b:WaitForChild("PlayerGui")local b=game:GetService("GuiService"):GetGuiInset()local b=workspace.CurrentCamera.ViewportSize;local c=b.X/2;local d=b.Y/2;a:SendMouseButtonEvent(c,d,0,true,game,0)wait(0.05)a:SendMouseButtonEvent(c,d,0,false,game,0)local c={{X=c,Y=d},{X=c*0.9,Y=d*1.5},{X=c*1.5,Y=d*0.9},{X=c*0.5,Y=d*0.5}}for c,c in ipairs(c)do if c.X>0 and c.X<b.X and c.Y>0 and c.Y<b.Y then a:SendMouseButtonEvent(c.X,c.Y,0,true,game,0)wait(0.05)a:SendMouseButtonEvent(c.X,c.Y,0,false,game,0)wait(0.05)end end;print("Đã thực hiện click tự động trên màn hình "..b.X.."x"..b.Y)end;b.ChildAdded:Connect(function(a)if a.Name=="GameEndedAnimationUI"then warn("Đã phát hiện GameEndedAnimationUI")c=false;if G or H then task.spawn(function()while true do task.wait(0.5)local a=b:FindFirstChild("RewardsUI")if a and a.Enabled then warn("RewardsUI đã bật. Ngưng click.")break end;warn("Đang thực hiện click tự động...")d()end end)end end end)while wait(0.5)do local a=a.PlayerGui:FindFirstChild("RewardsUI")if a and a.Enabled and not c then print("RewardsUI được bật lên, sẽ kích hoạt Auto Retry và Auto Next sau 1s")wait(1)c=true;if G then print("Kích hoạt Auto Retry...")k()end;if H then print("Kích hoạt Auto Next...")l()end;spawn(function()wait(5)c=false end)end end end)end)end;a()print("HT Hub | Anime Rangers X đã được tải thành công!")local a=eb:AddSection("Trait Reroll")local b=nil;local c=""local d={}local e=false;local g=nil;local g={}local function h()g={}local a={}local b,c=pcall(function()local b=game:GetService("Players").LocalPlayer.Name;local b=game:GetService("ReplicatedStorage"):WaitForChild("Player_Data",2):WaitForChild(b,2):WaitForChild("Collection",2)if not b then print("❌ Không tìm thấy Collection")return{}end;local c={}for a,a in pairs(b:GetChildren())do local b=a.Name;local a=a:FindFirstChild("Level")and a.Level.Value or 0;local a=b.." Lv: "..a;c[a]=(c[a]or 0)+1 end;local d={}for b,b in pairs(b:GetChildren())do local e=b.Name;local f=b:FindFirstChild("Level")and b.Level.Value or 0;local e=e.." Lv: "..f;if not d[e]then d[e]=0 end;d[e]=d[e]+1;local f=e;local h=b:FindFirstChild("PrimaryTrait")and b.PrimaryTrait.Value or"None"local i=b:FindFirstChild("SecondaryTrait")and b.SecondaryTrait.Value or"None"if h~="None"or i~="None"then f=f.." ("..h;if i~="None"then f=f..", "..i end;f=f..")"end;if c[e]>1 then f=f.." #"..d[e]end;g[f]=b;table.insert(a,f)end;return a end)if not b then warn("Lỗi khi quét unit collection: "..tostring(c))return{}end;table.sort(a)return a end;local function i(a)if not a then return false end;local a,b=pcall(function()local b=game:GetService("ReplicatedStorage"):WaitForChild("Remote",2):WaitForChild("Server",2):WaitForChild("Gambling",2):WaitForChild("RerollTrait",2)if not b then warn("Không tìm thấy RerollTrait Remote")return false end;local a={a,"Reroll","Main","Shards"}b:FireServer(unpack(a))return true end)if not a then warn("Lỗi khi reroll trait: "..tostring(b))return false end;return b end;local function j(a)if not a then return false end;local a,b=pcall(function()local b=a:FindFirstChild("PrimaryTrait")and a.PrimaryTrait.Value or""local a=a:FindFirstChild("SecondaryTrait")and a.SecondaryTrait.Value or""for c,d in pairs(d)do if d then if b==c or a==c then print("✅ Đã tìm thấy trait mong muốn: "..c.." (Primary: "..b..", Secondary: "..a..")")return true end end end;return false end)if not a then warn("Lỗi khi kiểm tra trait: "..tostring(b))return false end;return b end;local k=h()local g=a:AddDropdown("UnitDropdown",{Title="Choose Unit",Values=k,Multi=false,Default="",Callback=function(a)c=a;b=g[a]if b then local a=b:FindFirstChild("PrimaryTrait")and b.PrimaryTrait.Value or"None"local b=b:FindFirstChild("SecondaryTrait")and b.SecondaryTrait.Value or"None"print("Đã chọn unit: "..c)print("Current Traits - Primary: "..a..", Secondary: "..b)else print("Không tìm thấy thông tin về unit đã chọn")end end})a:AddDropdown("TraitDropdown",{Title="Choose Trait",Values={"Seraph","Capitalist","Duplicator","Soversign"},Multi=true,Default={},Callback=function(a)d=a;local b={}for a,c in pairs(a)do if c then table.insert(b,a)end end;if#b>0 then print("Đã chọn trait: "..table.concat(b,", "))else print("Chưa chọn trait nào")end end})a:AddToggle("RollTraitToggle",{Title="Roll Trait",Default=false,Callback=function(f)e=f;if f then if not b then print("❌ Vui lòng chọn unit trước khi bật Roll Trait")a:GetComponent("RollTraitToggle"):Set(false)return end;local f=false;for a,a in pairs(d)do if a then f=true;break end end;if not f then print("❌ Vui lòng chọn ít nhất một trait để roll")a:GetComponent("RollTraitToggle"):Set(false)return end;print("🔄 Bắt đầu Roll Trait cho "..c)if j(b)then print("✅ Unit đã có trait mong muốn. Không cần roll thêm.")a:GetComponent("RollTraitToggle"):Set(false)return end;spawn(function()while e do local c=i(b)if c then wait(0.2)if j(b)then print("✅ Đã roll được trait mong muốn! Dừng tự động roll.")e=false;a:GetComponent("RollTraitToggle"):Set(false)break end else wait(1)end;wait(0.3)end end)else print("❌ Đã dừng Roll Trait")end end})a:AddButton({Title="Refresh",Callback=function()local a=h()if#a>0 then g:SetValues(a)print("✅ Đã làm mới danh sách unit: "..#a.." unit")else print("❌ Không tìm thấy unit nào trong Collection")end end})_G.SystemManager=_G.SystemManager or{}_G.SystemManager.Portal={SelectedPortals=f.CurrentConfig.SelectedPortals or{},AutoOpenEnabled=f.CurrentConfig.AutoOpenPortal or false,AutoOpenLoop=nil,AutoStartEnabled=f.CurrentConfig.AutoStartPortal or false,AutoStartLoop=nil,Open=function(a)local a,b=pcall(function()local b=game:GetService("Players").LocalPlayer.Name;local b=game:GetService("ReplicatedStorage"):WaitForChild("Player_Data"):WaitForChild(b):WaitForChild("Items"):WaitForChild(a)if b then local b={b}game:GetService("ReplicatedStorage"):WaitForChild("Remote"):WaitForChild("Server"):WaitForChild("Lobby"):WaitForChild("ItemUse"):FireServer(unpack(b))print("Đã mở: "..a)return true else print("Không tìm thấy portal: "..a)return false end end)if not a then warn("Lỗi khi mở portal: "..tostring(b))return false end;return a end,Start=function()local a,b=pcall(function()local a={"Start"}game:GetService("ReplicatedStorage"):WaitForChild("Remote"):WaitForChild("Server"):WaitForChild("Lobby"):WaitForChild("PortalEvent"):FireServer(unpack(a))print("Đã gửi lệnh Start Portal")end)if not a then warn("Lỗi khi bắt đầu Portal: "..tostring(b))return false end;return true end}_G.SystemManager.RCExchange={AutoBuyEnabled=f.CurrentConfig.AutoBuyQuinque or false,AutoBuyLoop=nil,BuyQuinque=function()local a,b=pcall(function()local a={"Quinque Box",1}game:GetService("ReplicatedStorage"):WaitForChild("Remote"):WaitForChild("Server"):WaitForChild("Gameplay"):WaitForChild("RCExchange"):FireServer(unpack(a))print("Đã mua Quinque Box")end)if not a then warn("Lỗi khi mua Quinque Box: "..tostring(b))end end}local a=db:AddSection("Portal")a:AddDropdown("PortalDropdown",{Title="Choose Portal",Values={"Ghoul City Portal I","Ghoul City Portal II","Ghoul City Portal III"},Multi=true,Default=f.CurrentConfig.SelectedPortals or{},Callback=function(a)_G.SystemManager.Portal.SelectedPortals=a;f.CurrentConfig.SelectedPortals=a;f.SaveConfig()local b={}for a,c in pairs(a)do if c then table.insert(b,a)end end;if#b>0 then print("Đã chọn portal: "..table.concat(b,", "))else print("Chưa chọn portal nào")end end})a:AddToggle("OpenPortalToggle",{Title="Open Portal",Default=f.CurrentConfig.AutoOpenPortal or false,Callback=function(b)_G.SystemManager.Portal.AutoOpenEnabled=b;f.CurrentConfig.AutoOpenPortal=b;f.SaveConfig()if b then if ib()then print("Đang ở trong map, không thể kích hoạt Open Portal. Vui lòng trở về lobby trước.")a:GetComponent("OpenPortalToggle"):Set(false)return end;local b=false;for a,a in pairs(_G.SystemManager.Portal.SelectedPortals)do if a then b=true;break end end;if not b then print("Vui lòng chọn ít nhất một portal trước khi bật Open Portal")a:GetComponent("OpenPortalToggle"):Set(false)return end;print("Auto Open Portal đã được bật")if _G.SystemManager.Portal.AutoOpenLoop then _G.SystemManager.Portal.AutoOpenLoop:Disconnect()_G.SystemManager.Portal.AutoOpenLoop=nil end;spawn(function()while _G.SystemManager.Portal.AutoOpenEnabled and wait(1)do if ib()then print("Đã phát hiện người chơi vào map, tự động tắt Open Portal")_G.SystemManager.Portal.AutoOpenEnabled=false;a:GetComponent("OpenPortalToggle"):Set(false)break end;for a,b in pairs(_G.SystemManager.Portal.SelectedPortals)do if b then _G.SystemManager.Portal.Open(a)wait(0.5)end end;wait(10)end end)else print("Auto Open Portal đã được tắt")if _G.SystemManager.Portal.AutoOpenLoop then _G.SystemManager.Portal.AutoOpenLoop:Disconnect()_G.SystemManager.Portal.AutoOpenLoop=nil end end end})a:AddToggle("StartPortalToggle",{Title="Start Portal",Default=f.CurrentConfig.AutoStartPortal or false,Callback=function(b)_G.SystemManager.Portal.AutoStartEnabled=b;f.CurrentConfig.AutoStartPortal=b;f.SaveConfig()if b then if ib()then print("Đang ở trong map, không thể kích hoạt Start Portal. Vui lòng trở về lobby trước.")a:GetComponent("StartPortalToggle"):Set(false)return end;print("Auto Start Portal đã được bật")if _G.SystemManager.Portal.AutoStartLoop then _G.SystemManager.Portal.AutoStartLoop:Disconnect()_G.SystemManager.Portal.AutoStartLoop=nil end;_G.SystemManager.Portal.Start()spawn(function()while _G.SystemManager.Portal.AutoStartEnabled and wait(1)do if ib()then print("Đã phát hiện người chơi vào map, tự động tắt Start Portal")_G.SystemManager.Portal.AutoStartEnabled=false;a:GetComponent("StartPortalToggle"):Set(false)break end;_G.SystemManager.Portal.Start()wait(3)end end)else print("Auto Start Portal đã được tắt")if _G.SystemManager.Portal.AutoStartLoop then _G.SystemManager.Portal.AutoStartLoop:Disconnect()_G.SystemManager.Portal.AutoStartLoop=nil end end end})local a=fb:AddSection("RC Exchange")a:AddToggle("BuyQuinqueToggle",{Title="Buy Quinque",Default=f.CurrentConfig.AutoBuyQuinque or false,Callback=function(a)_G.SystemManager.RCExchange.AutoBuyEnabled=a;f.CurrentConfig.AutoBuyQuinque=a;f.SaveConfig()if a then print("Auto Buy Quinque đã được bật")if _G.SystemManager.RCExchange.AutoBuyLoop then _G.SystemManager.RCExchange.AutoBuyLoop:Disconnect()_G.SystemManager.RCExchange.AutoBuyLoop=nil end;spawn(function()while _G.SystemManager.RCExchange.AutoBuyEnabled do _G.SystemManager.RCExchange.BuyQuinque()wait(0.5)end end)else print("Auto Buy Quinque đã được tắt")if _G.SystemManager.RCExchange.AutoBuyLoop then _G.SystemManager.RCExchange.AutoBuyLoop:Disconnect()_G.SystemManager.RCExchange.AutoBuyLoop=nil end end end})a:AddButton({Title="Buy Quinque Now",Callback=function()_G.SystemManager.RCExchange.BuyQuinque()end})
